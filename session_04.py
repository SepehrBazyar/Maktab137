# import dill


# PICKLED = b'\x80\x04\x95\xa2\x15\x00\x00\x00\x00\x00\x00]\x94(\x8c\ndill._dill\x94\x8c\x0c_create_type\x94\x93\x94(h\x01\x8c\n_load_type\x94\x93\x94\x8c\x04type\x94\x85\x94R\x94\x8c\x04User\x94h\x05\x8c\x06object\x94\x85\x94R\x94\x85\x94}\x94(\x8c\n__module__\x94\x8c\x08__main__\x94\x8c\x08__init__\x94h\x01\x8c\x10_create_function\x94\x93\x94(h\x01\x8c\x0c_create_code\x94\x93\x94(C\x06\x02\x01\x0e\x01\x0e\x01\x94K\x04K\x00K\x00K\x04K\x02K\x03C.\x97\x00|\x01|\x00_\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x02|\x00_\x01\x00\x00\x00\x00\x00\x00\x00\x00|\x03|\x00_\x02\x00\x00\x00\x00\x00\x00\x00\x00y\x00\x94N\x85\x94\x8c\x04name\x94\x8c\x0cphone_number\x94\x8c\nbirth_date\x94\x87\x94(\x8c\x04self\x94h\x19h\x1ah\x1bt\x94\x8c)/home/sepehr/Desktop/Maktab/session_03.py\x94h\x11\x8c\rUser.__init__\x94K\nC\x18\x80\x00\xd8\x14\x18\x88\x04\x8c\t\xd8\x1c(\x88\x04\xd4\x08\x19\xd8\x1a$\x88\x04\x8d\x0f\x94C\x00\x94))t\x94R\x94c__builtin__\n__main__\nh\x11NNt\x94R\x94}\x94}\x94(\x8c\x0f__annotations__\x94}\x94(h\x19h\x05\x8c\x03str\x94\x85\x94R\x94h\x1ah-h\x1b\x8c\x08datetime\x94\x8c\x04date\x94\x93\x94u\x8c\x0c__qualname__\x94h u\x86\x94b\x8c\x03age\x94h\x05\x8c\x08property\x94\x85\x94R\x94(h\x13(h\x15(C\x02\x02\x02\x94K\x01K\x00K\x00K\x01K\x02K\x03C^\x97\x00t\x01\x00\x00\x00\x00\x00\x00\x00\x00j\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xab\x00\x00\x00\x00\x00\x00\x00|\x00j\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00z\n\x00\x00j\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\x01z\x02\x00\x00S\x00\x94NMm\x01\x86\x94(\x8c\x04date\x94\x8c\x05today\x94h\x1b\x8c\x04days\x94t\x94h\x1d\x85\x94h\x1fh3\x8c\x08User.age\x94K\x0fC"\x80\x00\xe4\x10\x14\x97\n\x91\n\x93\x0c\x98t\x9f\x7f\x99\x7f\xd1\x10.\xd7\x0f4\xd1\x0f4\xb8\x03\xd1\x0f;\xd0\x08;\x94h"))t\x94R\x94c__builtin__\n__main__\nh3NNt\x94R\x94}\x94}\x94(h)}\x94h1h?u\x86\x94bNNNt\x94R\x94\x8c\x08is_adult\x94h6(h\x13(h\x15(C\x02\x02\x02\x94K\x01K\x00K\x00K\x01K\x02K\x03C(\x97\x00|\x00j\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00t\x02\x00\x00\x00\x00\x00\x00\x00\x00k\\\x00\x00S\x00\x94h\x18h3\x8c\tADULT_AGE\x94\x86\x94h\x1d\x85\x94h\x1fhK\x8c\rUser.is_adult\x94K\x13C\x11\x80\x00\xe0\x0f\x13\x8fx\x89x\x9c9\xd1\x0f$\xd0\x08$\x94h"))t\x94R\x94c__builtin__\n__main__\nhKNNt\x94R\x94}\x94}\x94(h)}\x94h1hQu\x86\x94bNNNt\x94R\x94\x8c\x08__repr__\x94h\x13(h\x15(C\x02\x02\x01\x94K\x01K\x00K\x00K\x01K\x05K\x03C<\x97\x00d\x01|\x00j\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x9b\x00d\x02|\x00j\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x9b\x00d\x03\x9d\x05S\x00\x94(N\x8c\x01<\x94\x8c\x02: \x94\x8c\x01>\x94t\x94h\x19h\x1a\x86\x94h\x1d\x85\x94h\x1fh]\x8c\rUser.__repr__\x94K\x17C"\x80\x00\xd8\x11\x12\x904\x979\x919\x90+\x98R\xa0\x04\xd7 1\xd1 1\xd0\x1f2\xb0!\xd0\x0f4\xd0\x084\x94h"))t\x94R\x94c__builtin__\n__main__\nh]NNt\x94R\x94}\x94}\x94(h)}\x94h1hfu\x86\x94b\x8c\x07__doc__\x94N\x8c\r__slotnames__\x94]\x94ut\x94R\x94\x8c\x08builtins\x94\x8c\x07setattr\x94\x93\x94hth1h\t\x87\x94R0)\x81\x94}\x94(h\x19\x8c\x05akbar\x94h\x1a\x8c\x0b09123456789\x94h\x1bh0C\x04\x07\xd0\x0b\x19\x94\x85\x94R\x94ubh\x03(h\x08\x8c\x07Product\x94h\x0c\x85\x94}\x94(h\x0fh\x10h\x11h\x13(h\x15(C\x06\x02\x01\x0e\x01\x0e\x01\x94K\x04K\x00K\x00K\x04K\x02K\x03C.\x97\x00|\x01|\x00_\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x02|\x00_\x01\x00\x00\x00\x00\x00\x00\x00\x00|\x03|\x00_\x02\x00\x00\x00\x00\x00\x00\x00\x00y\x00\x94h\x18\x8c\x05title\x94\x8c\tinventory\x94\x8c\x05price\x94\x87\x94(h\x1dh\x85h\x86h\x87t\x94h\x1fh\x11\x8c\x10Product.__init__\x94K/C\x17\x80\x00\xd8\x15\x1a\x88\x04\x8c\n\xd8\x19"\x88\x04\x8c\x0e\xd8\x15\x1a\x88\x04\x8d\n\x94h"))t\x94R\x94c__builtin__\n__main__\nh\x11NNt\x94R\x94}\x94}\x94(h)}\x94(h\x85h-h\x86h\x05\x8c\x03int\x94\x85\x94R\x94h\x87h\x95uh1h\x8au\x86\x94bh]h\x13(h\x15(C\x02\x02\x01\x94K\x01K\x00K\x00K\x01K\x07K\x03CV\x97\x00d\x01|\x00j\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x9b\x00d\x02|\x00j\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x9b\x00d\x03|\x00j\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x9b\x00d\x04\x9d\x07S\x00\x94(Nh`ha\x8c\x02 (\x94\x8c\x04 $)>\x94t\x94h\x88h\x1d\x85\x94h\x1fh]\x8c\x10Product.__repr__\x94K4C*\x80\x00\xd8\x11\x12\x904\x97:\x91:\x90,\x98b\xa0\x14\xa7\x1e\xa1\x1e\xd0 0\xb0\x02\xb04\xb7:\xb1:\xb0,\xb8d\xd0\x0fC\xd0\x08C\x94h"))t\x94R\x94c__builtin__\n__main__\nh]NNt\x94R\x94}\x94}\x94(h)}\x94h1h\x9du\x86\x94bhpNhq]\x94ut\x94R\x94hwh\xa9h1h\x80\x87\x94R0)\x81\x94}\x94(h\x85\x8c\x03PS5\x94h\x86Kdh\x87M\xe8\x03ubh\x03(h\x08\x8c\x06Wallet\x94h\x0c\x85\x94}\x94(h\x0fh\x10h\x11h\x13(h\x15(C\x06\x02\x01\x0e\x01\x0e\x01\x94K\x04K\x00K\x00K\x04K\x02K\x03C.\x97\x00|\x01|\x00_\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x02|\x00_\x01\x00\x00\x00\x00\x00\x00\x00\x00|\x03|\x00_\x02\x00\x00\x00\x00\x00\x00\x00\x00y\x00\x94h\x18\x8c\x04user\x94\x8c\x07balance\x94\x8c\x11_Wallet__password\x94\x87\x94(h\x1dh\xb3h\xb4\x8c\x08password\x94t\x94h\x1fh\x11\x8c\x0fWallet.__init__\x94K\x1cC\x17\x80\x00\xd8\x14\x18\x88\x04\x8c\t\xd8\x17\x1e\x88\x04\x8c\x0c\xd8\x1a"\x88\x04\x8d\x0f\x94h"))t\x94R\x94c__builtin__\n__main__\nh\x11NNt\x94R\x94}\x94}\x94(h)}\x94(h\xb3hth\xb4h\x95h\xb7h-uh1h\xb9u\x86\x94b\x8c\x08__isub__\x94h\x13(h\x15(C\x06\x02\x01,\x02*\x01\x94K\x02K\x00K\x00K\x02K\x03K\x03C\\\x97\x00|\x01|\x00j\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00k\x1a\x00\x00s\x07J\x00d\x01\xab\x00\x00\x00\x00\x00\x00\x00\x82\x01|\x00x\x01j\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x01z\x17\x00\x00c\x02_\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x00S\x00\x94N\x8c\x0bNot Enough!\x94\x86\x94h\xb4\x85\x94h\x1d\x8c\x05value\x94\x86\x94h\x1fh\xc3\x8c\x0fWallet.__isub__\x94K!C,\x80\x00\xd8\x0f\x14\x98\x04\x9f\x0c\x99\x0c\xd2\x0f$\xd0\x083\xa0m\xd3\x083\xd0\x0f$\xe0\x08\x0c\x8f\x0c\x8a\x0c\x98\x05\xd1\x08\x1d\x8d\x0c\xd8\x0f\x13\x88\x0b\x94h"))t\x94R\x94c__builtin__\n__main__\nh\xc3NNt\x94R\x94}\x94}\x94(h)}\x94h\xc9h\x95sh1h\xcbu\x86\x94b\x8c\x0echeck_password\x94h\x13(h\x15(C\x02\x02\x01\x94K\x02K\x00K\x00K\x02K\x02K\x03C \x97\x00|\x00j\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x01k(\x00\x00S\x00\x94h\x18h\xb5\x85\x94h\x1d\x8c\x0cnew_password\x94\x86\x94h\x1fh\xd5\x8c\x15Wallet.check_password\x94K\'C\x11\x80\x00\xd8\x0f\x13\x8f\x7f\x89\x7f\xa0,\xd1\x0f.\xd0\x08.\x94h"))t\x94R\x94c__builtin__\n__main__\nh\xd5NNt\x94R\x94}\x94}\x94(h)}\x94h\xd9h-sh1h\xdbu\x86\x94bh]h\x13(h\x15(C\x02\x02\x01\x94K\x01K\x00K\x00K\x01K\x05K\x03C<\x97\x00d\x01|\x00j\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x9b\x00d\x02|\x00j\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x9b\x00d\x03\x9d\x05S\x00\x94hch\xb3h\xb4\x86\x94h\x1d\x85\x94h\x1fh]\x8c\x0fWallet.__repr__\x94K*C\x1f\x80\x00\xd8\x11\x12\x904\x979\x919\x90+\x98R\xa0\x04\xa7\x0c\xa1\x0c\x98~\xa8Q\xd0\x0f/\xd0\x08/\x94h"))t\x94R\x94c__builtin__\n__main__\nh]NNt\x94R\x94}\x94}\x94(h)}\x94h1h\xe9u\x86\x94bhpNhq]\x94ut\x94R\x94hwh\xf5h1h\xae\x87\x94R0)\x81\x94}\x94(h\xb3hyh\xb4M\x88\x13h\xb5\x8c\x041122\x94ubh\x03(h\x08\x8c\nBasketCart\x94h\x0c\x85\x94}\x94(h\x0fh\x10h\x11h\x13(h\x15(C\x04\x02\x01\x0e\x01\x94K\x03K\x00K\x00K\x03K\x02K\x03C \x97\x00|\x01|\x00_\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x02|\x00_\x01\x00\x00\x00\x00\x00\x00\x00\x00y\x00\x94h\x18\x8c\x07product\x94\x8c\x05count\x94\x86\x94h\x1dh\xffj\x00\x01\x00\x00\x87\x94h\x1fh\x11\x8c\x13BasketCart.__init__\x94K9C\x10\x80\x00\xd8\x17\x1e\x88\x04\x8c\x0c\xd8\x15\x1a\x88\x04\x8d\n\x94h"))t\x94R\x94c__builtin__\n__main__\nh\x11NNt\x94R\x94}\x94}\x94(h)}\x94(h\xffh\xa9j\x00\x01\x00\x00h\x95uh1j\x03\x01\x00\x00u\x86\x94b\x8c\t__enter__\x94h\x13(h\x15(C\x04\x02\x01R\x01\x94K\x01K\x00K\x00K\x01K\x03K\x03CX\x97\x00|\x00j\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00x\x01j\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x00j\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00z\x17\x00\x00c\x02_\x01\x00\x00\x00\x00\x00\x00\x00\x00|\x00S\x00\x94h\x18h\xffh\x86j\x00\x01\x00\x00\x87\x94h\x1d\x85\x94h\x1fj\r\x01\x00\x00\x8c\x14BasketCart.__enter__\x94K=C \x80\x00\xd8\x08\x0c\x8f\x0c\x89\x0c\xd7\x08\x1e\xd2\x08\x1e\xa0$\xa7*\xa1*\xd1\x08,\xd5\x08\x1e\xd8\x0f\x13\x88\x0b\x94h"))t\x94R\x94c__builtin__\n__main__\nj\r\x01\x00\x00NNt\x94R\x94}\x94}\x94(h)}\x94h1j\x12\x01\x00\x00u\x86\x94b\x8c\x07payment\x94h\x13(h\x15(C\x04\x02\x1b0\x01\x94K\x03K\x00K\x00K\x03K\x03K\x03C\x80\x97\x00|\x01j\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x02\xab\x01\x00\x00\x00\x00\x00\x00s\x07J\x00d\x01\xab\x00\x00\x00\x00\x00\x00\x00\x82\x01|\x01|\x00j\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x00j\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00j\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00z\x05\x00\x00z\x17\x00\x00}\x01y\x02\x94X|\x04\x00\x00Charge a user\'s wallet for the items in this basket.\n\n        This method verifies the provided password against the wallet, then\n        deducts the total price (product.price * count) from the wallet using\n        the wallet\'s in-place subtraction operator. It does not perform any\n        further validation (for example, it assumes inventory has already been\n        reserved by the context manager entry).\n\n        Args:\n            wallet (Wallet): The wallet to charge. Must be associated with the\n                buyer and support `check_password` and in-place subtraction\n                (`__isub__`) for numeric values.\n            password (str): Plain-text password to authenticate the wallet.\n\n        Raises:\n            AssertionError: If the provided password does not match the\n                wallet\'s password or if the wallet has insufficient balance\n                (the wallet\'s `__isub__` will assert on insufficient funds).\n\n        Side effects:\n            - Calls `wallet.check_password(password)` to authenticate.\n            - Mutates `wallet.balance` via `wallet -= amount`.\n\n        Returns:\n            None\n        \x94\x8c\x07INVALID\x94N\x87\x94(h\xd5j\x00\x01\x00\x00h\xffh\x87t\x94h\x1d\x8c\x06wallet\x94h\xb7\x87\x94h\x1fj\x1c\x01\x00\x00\x8c\x12BasketCart.payment\x94KAC:\x80\x00\xf06\x00\x10\x16\xd7\x0f$\xd1\x0f$\xa0X\xd4\x0f.\xd0\x089\xb0\t\xd3\x089\xd0\x0f.\xd8\x08\x0e\x904\x97:\x91:\xa0\x04\xa7\x0c\xa1\x0c\xd7 2\xd1 2\xd1\x132\xd1\x083\x89\x06\x94h"))t\x94R\x94c__builtin__\n__main__\nj\x1c\x01\x00\x00NNt\x94R\x94}\x94}\x94(hpj\x1f\x01\x00\x00h)}\x94(j#\x01\x00\x00h\xf5h\xb7h-uh1j%\x01\x00\x00u\x86\x94b\x8c\x08__exit__\x94h\x13(h\x15(C\x0c\x02\x01\x04\x01\x18\x01R\x04\x02\xfe\x16\x02\x94K\x04K\x00K\x00K\x04K\x04K\x03C\x8a\x97\x00|\x01r6t\x01\x00\x00\x00\x00\x00\x00\x00\x00d\x01|\x02\xab\x02\x00\x00\x00\x00\x00\x00\x01\x00|\x00j\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00x\x01j\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x00j\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00z\r\x00\x00c\x02_\x02\x00\x00\x00\x00\x00\x00\x00\x00y\x03t\x01\x00\x00\x00\x00\x00\x00\x00\x00d\x02\xab\x01\x00\x00\x00\x00\x00\x00\x01\x00y\x03\x94(N\x8c\x06FAILED\x94\x8c\x0fcongratulations\x94\x88t\x94(\x8c\x05print\x94h\xffh\x86j\x00\x01\x00\x00t\x94(h\x1d\x8c\x08exc_type\x94\x8c\texc_value\x94\x8c\x06exc_tb\x94t\x94h\x1fj/\x01\x00\x00\x8c\x13BasketCart.__exit__\x94K_C;\x80\x00\xd9\x0b\x13\xdc\x0c\x11\x90(\x98I\xd4\x0c&\xd8\x0c\x10\x8fL\x89L\xd7\x0c"\xd2\x0c"\xa0d\xa7j\xa1j\xd1\x0c0\xd5\x0c"\xf0\x08\x00\x10\x14\xf4\x05\x00\r\x12\xd0\x12#\xd4\x0c$\xe0\x0f\x13\x94h"))t\x94R\x94c__builtin__\n__main__\nj/\x01\x00\x00NNt\x94R\x94}\x94}\x94(h)}\x94h1j;\x01\x00\x00u\x86\x94bhpNhq]\x94ut\x94R\x94hwjG\x01\x00\x00h1h\xfa\x87\x94R0)\x81\x94}\x94(h\xffh\xabj\x00\x01\x00\x00K\x14ube.'


# user, p1, w1, o1 = dill.loads(PICKLED)


# with o1:
#     o1.payment(w1, "1122")


# print(w1)
# print(p1)


import random
import pprint
from dataclasses import dataclass, field
from datetime import date


# def generate_random_id():
#     return random.randint(1, 100)


@dataclass(order=True, kw_only=False, frozen=True)
class User:
    id: int = field(init=False, default_factory=lambda : random.randint(1, 100), hash=False)
    name: str = field(compare=False, hash=False)
    phone_number: str = field(compare=True, hash=True)
    birth_date: date = field(compare=False, repr=False, hash=False)

    @property
    def age(self):
        return (date.today() - self.birth_date).days // 365

    def __hash__(self):
        return hash(self.phone_number)


akbar = User(name="akbar", phone_number="09123456789", birth_date=date(2000, 11, 25))
asqar = User(name="asqar", phone_number="09123456789", birth_date=date(2001, 11, 25))
new = User("new", "09123456788", date(2024, 11, 6))

print(akbar)
print(asqar)
print(new)
print(akbar == asqar)
print(new == akbar)
print(new < akbar)
print(new > akbar)

# akbar.name = "akbar2"
# print(akbar)

d = {
    akbar: akbar.age,
    asqar: asqar.age,
    new: new.age,
}

pprint.pprint(d)

import hashlib

hashlib.md5("1234".encode()).hexdigest()
